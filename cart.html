<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Your Cart | FoodRush</title>
<style>
/* ===== Reset ===== */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: Arial, sans-serif;
}

/* ===== Body ===== */
body {
  background: url('https://static.vecteezy.com/system/resources/previews/046/588/348/non_2x/vegetables-seamless-pattern-isolated-yellow-background-veggies-icons-set-minimalist-horizontal-banner-organic-food-natural-eco-product-harvesting-for-cover-wrapping-paper-textile-print-vector.jpg') no-repeat center center fixed;
  background-size: cover;
  color: black;
}

/* ===== Navbar ===== */
header.navbar {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0 30px;
  height: 80px;
  background: url('https://images.pexels.com/photos/326333/pexels-photo-326333.jpeg?cs=srgb&dl=pexels-pixabay-326333.jpg&fm=jpg') no-repeat center center;
  background-size: cover;
  position: relative;
}

.logo {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  font-size: 28px;
  font-weight: bold;
}

.logo a {
  color: white;
  text-decoration: none;
}

nav {
  position: absolute;
  right: 30px;
}

nav a {
  text-decoration: none;
  color: white;
  font-weight: 500;
  font-size: 22px;
  display: flex;
  align-items: center;
  gap: 5px;
}

nav a:hover {
  color: #ff6600;
}

/* ===== Page Header ===== */
.page-header {
  text-align: center;
  padding: 20px;
  margin: 20px auto;
  background: white;
  border-radius: 10px;
  max-width: 1100px;
  color: black;
}

.page-header h2 {
  font-size: 32px;
}

/* ===== Cart Items ===== */
#cartItems {
  max-width: 1100px;
  margin: auto;
}

.item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px;
  background: white;
  margin-bottom: 15px;
  border-radius: 10px;
  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);
  transition: transform 0.2s;
}

.item:hover {
  transform: scale(1.02);
}

.name {
  flex: 1;
  font-weight: 500;
  font-size: 18px;
}

.qty {
  display: flex;
  align-items: center;
  gap: 5px;
}

.qty button {
  background: #ff4d4d;
  color: white;
  border: none;
  padding: 5px 10px;
  cursor: pointer;
  border-radius: 5px;
  font-size: 16px;
}

.qty span {
  min-width: 20px;
  text-align: center;
  display: inline-block;
  font-weight: bold;
}

.remove-btn {
  background: red;
  color: white;
  border: none;
  padding: 5px 10px;
  cursor: pointer;
  border-radius: 5px;
}

/* ===== Customer Details ===== */
.customer-details {
  max-width: 1100px;
  margin: 20px auto;
  padding: 15px;
  background: white;
  border-radius: 10px;
}

.customer-details h3 {
  margin-bottom: 15px;
  color: black;
}

.customer-details label {
  font-weight: bold;
  margin-top: 10px;
  display: block;
}

.customer-details input,
.customer-details textarea {
  width: 100%;
  padding: 10px;
  margin-top: 5px;
  border-radius: 5px;
  border: 1px solid #ccc;
  font-size: 16px;
  margin-bottom: 10px;
}

/* ===== Total and Order Button ===== */
.total {
  font-weight: bold;
  text-align: right;
  margin: 20px auto;
  max-width: 1100px;
  font-size: 20px;
  color: black;
}

.order-btn {
  display: block;
  margin: 20px auto;
  width: 100%;
  max-width: 400px;
  background: #28a745;
  color: white;
  padding: 12px;
  font-size: 18px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
}

.order-btn:hover {
  background: #218838;
}

/* ===== Payment Section ===== */
.payment-section {
  max-width: 1100px;
  margin: 20px auto;
  padding: 15px;
  background: white;
  border-radius: 10px;
}

.payment-section label {
  font-weight: bold;
  margin-bottom: 10px;
  display: block;
}

.payment-section select,
.payment-section input {
  width: 100%;
  padding: 10px;
  margin-top: 5px;
  border-radius: 5px;
  border: 1px solid #ccc;
  font-size: 16px;
  margin-bottom: 10px;
}

/* ===== Confirmation Page ===== */
.confirmation {
  max-width: 700px;
  margin: 50px auto;
  background: white;
  padding: 30px;
  border-radius: 15px;
  text-align: center;
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}

.confirmation h2 {
  color: #28a745;
  margin-bottom: 20px;
}

.confirmation table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
}

.confirmation th,
.confirmation td {
  border: 1px solid #ccc;
  padding: 10px;
  text-align: center;
}

.confirmation th {
  background: #f4f4f4;
}

.confirmation p {
  font-size: 18px;
  margin-bottom: 10px;
}




/* Cart Button */
.cart-btn {
  position: absolute;
  right: 30px;
  top: 15px;
  background: #8B4513; /* brown color */
  color: white;
  border: none;
  padding: 10px 18px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 16px;
}

.cart-btn:hover {
  background: #A0522D; /* slightly lighter brown */
}

 



</style>
</head>
<body>

<header class="navbar">
  <div class="logo"><a href="index.html"> <i>üç¥ Quick Food</i></a></div>
  <nav><ul><li><a href="index.html">üè† Home</a></li></ul></nav>
</header>

<section class="page-header">
  <h2>üõí Your Cart</h2>
</section>

<!-- Customer Details -->
<div class="customer-details">
  <h3>üìù Customer Details</h3>
  <label for="custName">Full Name:</label>
  <input type="text" id="custName" placeholder="Enter your full name" />

  <label for="custPhone">Phone Number:</label>
  <input type="text" id="custPhone" placeholder="Enter your phone number" />

  <label for="custAddress">Delivery Address:</label>
  <textarea id="custAddress" placeholder="Enter your address"></textarea>
</div>

<!-- Cart Items -->
<div id="cartItems"></div>
<p class="total">Total: ‚Çπ<span id="totalPrice">0</span></p>

<!-- Payment Section -->
<div class="payment-section">
  <label for="paymentMethod">üí≥ Select Payment Method:</label>
  <select id="paymentMethod" onchange="showPaymentFields()">
    <option value="">--Select Payment Method--</option>
    <option value="cod">Cash on Delivery</option>
    <option value="upi">UPI</option>
    <option value="card">Credit/Debit Card</option>
    <option value="wallet">Wallet</option>
  </select>
  <div id="paymentDetails"></div>
</div>

<button class="order-btn" onclick="placeOrder()">‚úÖ Place Order</button>

<script>
// ================= Add to Cart =================
const addToCartButtons = document.querySelectorAll('.add-to-cart-btn');
addToCartButtons.forEach(button => {
  button.addEventListener('click', () => {
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    const name = button.getAttribute('data-name');
    const price = Number(button.getAttribute('data-price'));
    const existing = cart.find(item => item.name === name);
    if(existing) existing.quantity +=1;
    else cart.push({name, price, quantity:1});
    localStorage.setItem('cart', JSON.stringify(cart));
    alert(`‚úÖ ${name} added to cart!`);
    loadCart();
  });
});

// ================= Load Cart =================
function loadCart() {
  let cart = JSON.parse(localStorage.getItem("cart")) || [];
  let container = document.getElementById("cartItems");
  let total = 0;
  container.innerHTML = "";
  cart.forEach((item,index)=>{
    total += item.price*item.quantity;
    container.innerHTML += `
      <div class="item">
        <span class="name">${item.name} - ‚Çπ${item.price}</span>
        <div class="qty">
          <button onclick="changeQty(${index},-1)">-</button>
          <span>${item.quantity}</span>
          <button onclick="changeQty(${index},1)">+</button>
        </div>
        <button class="remove-btn" onclick="removeItem(${index})">‚ùå</button>
      </div>
    `;
  });
  document.getElementById("totalPrice").textContent = total;
}

// ================= Quantity Change =================
function changeQty(index,change){
  let cart = JSON.parse(localStorage.getItem("cart"))||[];
  cart[index].quantity += change;
  if(cart[index].quantity<1) cart[index].quantity=1;
  localStorage.setItem("cart",JSON.stringify(cart));
  loadCart();
}

// ================= Remove Item =================
function removeItem(index){
  let cart = JSON.parse(localStorage.getItem("cart"))||[];
  cart.splice(index,1);
  localStorage.setItem("cart",JSON.stringify(cart));
  loadCart();
}

// ================= Show Payment Fields =================
function showPaymentFields(){
  const method = document.getElementById("paymentMethod").value;
  const div = document.getElementById("paymentDetails");
  div.innerHTML = "";
  if(method==="upi"){
    div.innerHTML = `<input type="text" id="upiId" placeholder="Enter UPI ID" />`;
  } else if(method==="card"){
    div.innerHTML = `
      <input type="text" id="cardName" placeholder="Name on Card" />
      <input type="text" id="cardNumber" placeholder="Card Number" />
      <input type="text" id="cardExpiry" placeholder="MM/YY" />
      <input type="text" id="cardCvv" placeholder="CVV" />
    `;
  } else if(method==="wallet"){
    div.innerHTML = `<input type="text" id="walletId" placeholder="Wallet ID" />`;
  }
}

// ================= Place Order =================
function placeOrder(){
  let cart = JSON.parse(localStorage.getItem("cart"))||[];

  const name = document.getElementById("custName").value.trim();
  const phone = document.getElementById("custPhone").value.trim();
  const address = document.getElementById("custAddress").value.trim();
  let method = document.getElementById("paymentMethod").value;

  if(cart.length===0){ alert("‚ùå Cart is empty!"); return; }

  if(!name || !phone || !address){
    alert("‚ùå Please fill in your Name, Phone and Address!");
    return;
  }

  if(!method){ alert("‚ùå Please select a payment method!"); return; }

  // Validate payment info
  if(method==="upi" && !document.getElementById("upiId").value.trim()){ alert("‚ùå Please enter your UPI ID!"); return; }
  if(method==="card"){
    const cardName = document.getElementById("cardName").value.trim();
    const number = document.getElementById("cardNumber").value.trim();
    const expiry = document.getElementById("cardExpiry").value.trim();
    const cvv = document.getElementById("cardCvv").value.trim();
    if(!cardName || !number || !expiry || !cvv){ alert("‚ùå Please fill all card details!"); return; }
  }
  if(method==="wallet" && !document.getElementById("walletId").value.trim()){ alert("‚ùå Please enter wallet ID!"); return; }

  // ===== Show Confirmation =====
  let total = cart.reduce((sum,item)=> sum + item.price*item.quantity,0);

  document.body.innerHTML = `
  <div class="confirmation">
    <h2>üéâ Order Placed Successfully!</h2>
    <p><strong>Name:</strong> ${name}</p>
    <p><strong>Phone:</strong> ${phone}</p>
    <p><strong>Address:</strong> ${address}</p>

    <table>
      <tr>
        <th>Item</th>
        <th>Price</th>
        <th>Quantity</th>
        <th>Subtotal</th>
      </tr>
      ${cart.map(item => `
        <tr>
          <td>${item.name}</td>
          <td>‚Çπ${item.price}</td>
          <td>${item.quantity}</td>
          <td>‚Çπ${item.price*item.quantity}</td>
        </tr>`).join('')}
      <tr>
        <th colspan="3">Total</th>
        <th>‚Çπ${total}</th>
      </tr>
    </table>

    <p><strong>Payment Method:</strong> ${method.toUpperCase()}</p>
    <p>‚è∞ Your order will arrive in 30 mins!</p>
  </div>
  `;

  localStorage.removeItem("cart");
}

// ================= Initial Load =================
loadCart();
</script>
</body>
</html>
